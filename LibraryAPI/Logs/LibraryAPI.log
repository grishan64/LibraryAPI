[2023-04-09 06:49:27 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 06:49:27 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (69ms).
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (9ms).
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:49:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (9ms).
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteNonQuery'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteNonQuery' (2ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteNonQuery' (3ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
 
[2023-04-09 06:49:29 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:49:29 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:49:29 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 06:49:29 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 06:49:29 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 06:49:29 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 06:49:29 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 06:49:29 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 06:49:29 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 06:49:29 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 06:49:29 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLLLV71D2" received FIN.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLLLV71D2" accepted.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLLLV71D2" started.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLLLV71D2" stopped.
 
[2023-04-09 06:49:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLLLV71D2" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLLLV71D3" accepted.
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLLLV71D3" started.
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLLLV71D3 established using the following protocol: "Tls12"
 
[2023-04-09 06:49:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 06:49:30 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 06:49:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 165.0012ms
 
[2023-04-09 06:49:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 06:49:37 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 06:49:37 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 06:49:37 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 06:49:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 10.9334ms
 
[2023-04-09 06:49:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 06:49:39 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 06:49:39 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 06:49:39 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 06:49:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 8.9326ms
 
[2023-04-09 06:49:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 06:49:40 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 06:49:40 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 06:49:40 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 06:49:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 9.1779ms
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 06:51:05 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (63ms).
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (15ms).
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (6ms).
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (26ms).
 
[2023-04-09 06:51:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:51:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:51:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:51:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 06:51:06 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 06:51:06 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 06:51:06 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 06:51:06 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 06:51:06 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 06:51:06 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 06:51:06 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 06:51:06 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M325" accepted.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M326" accepted.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M325" started.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M326" started.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLMJ0M325" received FIN.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLMJ0M326" received FIN.
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:51:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M326" stopped.
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M325" stopped.
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLMJ0M326" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLMJ0M325" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M327" accepted.
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLMJ0M327" started.
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLMJ0M327 established using the following protocol: "Tls12"
 
[2023-04-09 06:51:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 06:51:07 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 06:51:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 218.4135ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:51:11 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger-ui.css - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger-ui-bundle.js - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger-ui-standalone-preset.js - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:51:11 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 8.1089ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 220.6872ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger-ui.css - - - 200 144929 text/css 24.3034ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 45.1046ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.5121ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger-ui-bundle.js - - - 200 1061536 application/javascript 52.6224ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/favicon-32x32.png - -
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/favicon-32x32.png - - - 200 628 image/png 3.6552ms
 
[2023-04-09 06:51:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.1964ms
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 06:55:02 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (130ms).
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 06:55:02 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:03 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:03 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:55:03 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:55:03 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 06:55:03 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 06:55:03 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 06:55:03 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 06:55:03 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 06:55:03 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 06:55:03 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 06:55:03 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 06:55:03 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 06:55:03 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 06:55:03 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 06:55:03 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 06:55:03 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLOPOA15H" accepted.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLOPOA15H" started.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLOPOA15H" received FIN.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLOPOA15H" stopped.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLOPOA15H" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLOPOA15I" accepted.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLOPOA15I" started.
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLOPOA15I established using the following protocol: "Tls12"
 
[2023-04-09 06:55:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api - -
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 06:55:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api - - - 301 0 - 121.4414ms
 
[2023-04-09 06:55:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:55:04 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 06:55:43 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (103ms).
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 06:55:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:44 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (8ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:44 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:55:44 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 06:55:44 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 06:55:44 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 06:55:44 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 06:55:44 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 06:55:44 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 06:55:44 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 06:55:44 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 06:55:44 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 06:55:44 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 06:55:44 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 06:55:44 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 06:55:44 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 06:55:44 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLP5V3SNJ" accepted.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLP5V3SNJ" started.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLP5V3SNJ" received FIN.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLP5V3SNJ" stopped.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLP5V3SNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLP5V3SNK" accepted.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLP5V3SNK" started.
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLP5V3SNK established using the following protocol: "Tls12"
 
[2023-04-09 06:55:45 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:55:45 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 06:55:46 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:20 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:56:20 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 16.4359ms
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 92.7160ms
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.6552ms
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:56:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.7211ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:23 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:23 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 20.4367ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 8.6346ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 12.1242ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.7806ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:23 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:23 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 10.8597ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.7961ms
 
[2023-04-09 06:56:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.8051ms
 
[2023-04-09 06:56:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:56:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 1.9223ms
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:25 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:25 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 14.2395ms
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 1.4165ms
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.0670ms
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:56:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.8793ms
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 06:56:35 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (61ms).
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 06:56:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:56:35 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (12ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:56:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (6ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:56:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:56:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 06:56:36 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 06:56:36 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 06:56:36 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 06:56:36 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 06:56:36 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 06:56:36 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 06:56:36 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 06:56:36 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 06:56:36 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 06:56:36 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 06:56:36 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 06:56:36 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 06:56:36 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLPLD2B8N" received FIN.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLPLD2B8M" received FIN.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8P" accepted.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8O" accepted.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8P" started.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8O" started.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8P" stopped.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8O" stopped.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLPLD2B8O" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLPLD2B8P" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8Q" accepted.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLPLD2B8Q" started.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLPLD2B8Q established using the following protocol: "Tls12"
 
[2023-04-09 06:56:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 06:56:37 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/index.html - -
 
[2023-04-09 06:56:52 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 06:56:52 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.5547ms
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/index.html - - - 200 - text/html;charset=utf-8 94.4718ms
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.4326ms
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/v1/swagger.json - -
 
[2023-04-09 06:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.7256ms
 
[2023-04-09 07:04:28 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:04:29 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (101ms).
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (15ms).
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (27ms).
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:04:30 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:04:30 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:04:30 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:04:30 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:04:30 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:04:30 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:04:30 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:04:30 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDD" received FIN.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDC" received FIN.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDC" accepted.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDD" accepted.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDC" started.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDD" started.
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDC" stopped.
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDD" stopped.
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDC" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDD" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDE" accepted.
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDE" started.
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLU2JCGDE established using the following protocol: "Tls12"
 
[2023-04-09 07:04:33 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:04:33 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:04:33 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 150.2602ms
 
[2023-04-09 07:04:35 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:04:35 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:04:35 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:04:35 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:04:35 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 10.8317ms
 
[2023-04-09 07:04:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDE" received FIN.
 
[2023-04-09 07:04:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLU2JCGDE" is closed. The last processed stream ID was 3.
 
[2023-04-09 07:04:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDE" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:04:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDE" stopped.
 
[2023-04-09 07:04:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDF" accepted.
 
[2023-04-09 07:04:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDF" started.
 
[2023-04-09 07:04:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLU2JCGDF established using the following protocol: "Tls12"
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:04:40 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui-bundle.js - -
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui.css - -
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui-standalone-preset.js - -
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:04:40 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 205.6914ms
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.6686ms
 
[2023-04-09 07:04:40 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui.css - - - 200 144929 text/css 102.5327ms
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 96.7430ms
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.1707ms
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 118.7619ms
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/favicon-32x32.png - -
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/favicon-32x32.png - - - 200 628 image/png 5.2653ms
 
[2023-04-09 07:04:41 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.8357ms
 
[2023-04-09 07:04:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDF" received FIN.
 
[2023-04-09 07:04:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLU2JCGDF" is closed. The last processed stream ID was 15.
 
[2023-04-09 07:04:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDF" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:04:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDF" stopped.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDG" accepted.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDG" started.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLU2JCGDG established using the following protocol: "Tls12"
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/WeatherForecast - -
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/WeatherForecast'
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.WeatherForecastController.Get (LibraryAPI)' with route pattern 'WeatherForecast' is valid for the request path '/WeatherForecast'
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.WeatherForecastController.Get (LibraryAPI)'
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.WeatherForecastController.Get (LibraryAPI)'
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "Get", controller = "WeatherForecast"}. Executing controller action with signature System.Collections.Generic.IEnumerable`1[LibraryAPI.WeatherForecast] Get() on controller LibraryAPI.Controllers.WeatherForecastController (LibraryAPI).
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.WeatherForecastController (LibraryAPI)
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.WeatherForecastController (LibraryAPI)
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 07:04:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'LibraryAPI.WeatherForecast[]'.
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.WeatherForecastController.Get (LibraryAPI) in 32.0031ms
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.WeatherForecastController.Get (LibraryAPI)'
 
[2023-04-09 07:04:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/WeatherForecast - - - 200 - application/json;+charset=utf-8 94.9294ms
 
[2023-04-09 07:04:59 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDG" received FIN.
 
[2023-04-09 07:04:59 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLU2JCGDG" is closed. The last processed stream ID was 1.
 
[2023-04-09 07:04:59 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLU2JCGDG" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:04:59 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLU2JCGDG" stopped.
 
[2023-04-09 07:05:51 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:05:52 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (68ms).
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:05:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (7ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:05:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:05:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 07:05:53 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:05:53 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:05:53 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:05:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:05:53 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:05:53 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:05:53 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:05:53 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:05:53 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:05:53 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:05:53 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:05:53 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:05:53 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKI" accepted.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKH" accepted.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKI" started.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKH" started.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKI" received FIN.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKH" received FIN.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKH" stopped.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKI" stopped.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKH" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKI" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKJ" accepted.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKJ" started.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLURCHSKJ established using the following protocol: "Tls12"
 
[2023-04-09 07:05:54 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:05:54 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:05:54 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 144.9302ms
 
[2023-04-09 07:05:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:05:59 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:05:59 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:05:59 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:05:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 7.7095ms
 
[2023-04-09 07:06:00 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:06:00 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:06:00 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:06:00 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:06:00 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 10.0459ms
 
[2023-04-09 07:06:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:06:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 8.3865ms
 
[2023-04-09 07:06:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:06:01 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:06:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 9.0572ms
 
[2023-04-09 07:06:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKJ" received FIN.
 
[2023-04-09 07:06:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLURCHSKJ" is closed. The last processed stream ID was 9.
 
[2023-04-09 07:06:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLURCHSKJ" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:06:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLURCHSKJ" stopped.
 
[2023-04-09 07:06:17 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:06:17 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:06:17 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (69ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (19ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (8ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (23ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:06:18 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:06:18 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:06:18 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:06:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 07:06:19 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:06:19 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:06:19 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:06:19 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:06:19 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:06:19 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:06:19 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:06:19 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH7" accepted.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH7" started.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH7" received FIN.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH7" stopped.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH7" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH8" accepted.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH8" started.
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLV2SOUH8 established using the following protocol: "Tls12"
 
[2023-04-09 07:06:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger - -
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:06:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger - - - 301 0 - 132.6680ms
 
[2023-04-09 07:06:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:06:19 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:06:30 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:06:30 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 81.3486ms
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.6999ms
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.8354ms
 
[2023-04-09 07:06:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:06:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.5845ms
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:06:37 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:06:37 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 12.7391ms
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.7165ms
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.0419ms
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:06:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.7237ms
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:06:38 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:06:38 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 18.5520ms
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 3.0590ms
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.0201ms
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:06:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 11.1443ms
 
[2023-04-09 07:06:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH8" received FIN.
 
[2023-04-09 07:06:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLV2SOUH8" is closed. The last processed stream ID was 27.
 
[2023-04-09 07:06:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH8" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:06:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH9" accepted.
 
[2023-04-09 07:06:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH9" started.
 
[2023-04-09 07:06:40 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLV2SOUH9 established using the following protocol: "Tls12"
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:06:40 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:06:40 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 10.7380ms
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 2.4846ms
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 10.2549ms
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:06:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 5.8439ms
 
[2023-04-09 07:06:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH9" received FIN.
 
[2023-04-09 07:06:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLV2SOUH9" is closed. The last processed stream ID was 7.
 
[2023-04-09 07:06:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLV2SOUH9" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:06:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLV2SOUH9" stopped.
 
[2023-04-09 07:07:08 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:07:08 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:07:08 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:07:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (61ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (9ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:07:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (7ms).
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:07:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:07:10 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:07:10 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:07:10 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:07:10 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:07:10 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:07:10 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:07:10 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:07:10 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:07:10 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCR" received FIN.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCS" received FIN.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCS" accepted.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCR" accepted.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCS" started.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCR" started.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCR" stopped.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCS" stopped.
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCS" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:07:10 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCR" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCT" accepted.
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCT" started.
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLVI7TPCT established using the following protocol: "Tls12"
 
[2023-04-09 07:07:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:07:11 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:07:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 159.2168ms
 
[2023-04-09 07:07:13 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/swagger/index.html - -
 
[2023-04-09 07:07:13 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 07:07:13 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: No candidates found for the request path '/swagger/index.html'
 
[2023-04-09 07:07:13 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request did not match any endpoints
 
[2023-04-09 07:07:13 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/swagger/index.html - - - 404 0 - 8.7605ms
 
[2023-04-09 07:07:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCT" received FIN.
 
[2023-04-09 07:07:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLVI7TPCT" is closed. The last processed stream ID was 3.
 
[2023-04-09 07:07:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCT" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:07:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCT" stopped.
 
[2023-04-09 07:07:18 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCU" accepted.
 
[2023-04-09 07:07:18 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCU" started.
 
[2023-04-09 07:07:18 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOLVI7TPCU established using the following protocol: "Tls12"
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:07:18 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:07:18 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.2000ms
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 190.2984ms
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3635ms
 
[2023-04-09 07:07:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:07:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.4367ms
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:07:20 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:07:20 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 13.8264ms
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 3.3186ms
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.8162ms
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:07:20 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1.9572ms
 
[2023-04-09 07:07:24 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCU" received FIN.
 
[2023-04-09 07:07:24 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOLVI7TPCU" is closed. The last processed stream ID was 15.
 
[2023-04-09 07:07:24 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOLVI7TPCU" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:07:24 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOLVI7TPCU" stopped.
 
[2023-04-09 07:08:06 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:08:06 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (63ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (12ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (19ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:08:07 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:08:07 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:08:08 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 07:08:08 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:08:08 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:08:08 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:08:08 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:08:08 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:08:08 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:08:08 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:08:08 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOK" accepted.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOJ" accepted.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOK" started.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOJ" started.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOK" received FIN.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOJ" received FIN.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOJ" stopped.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOK" stopped.
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:08:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOK" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:08:09 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOL" accepted.
 
[2023-04-09 07:08:09 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOL" started.
 
[2023-04-09 07:08:09 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOM03D2QOL established using the following protocol: "Tls12"
 
[2023-04-09 07:08:09 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:08:09 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:08:09 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:08:10 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 36.4052ms
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 326.4661ms
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 152.2818ms
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:08:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 233.7601ms
 
[2023-04-09 07:08:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOL" received FIN.
 
[2023-04-09 07:08:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOM03D2QOL" is closed. The last processed stream ID was 7.
 
[2023-04-09 07:08:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOM03D2QOL" sending FIN because: "The client closed the connection."
 
[2023-04-09 07:08:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOM03D2QOL" stopped.
 
[2023-04-09 07:26:19 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 07:26:20 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (68ms).
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:26:20 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (5ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (13ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:26:21 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:26:21 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:26:21 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 07:26:21 DBG] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were found in assembly 'LibraryAPI'.
 
[2023-04-09 07:26:21 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 07:26:21 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 07:26:21 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 07:26:21 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 07:26:21 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 07:26:21 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 07:26:21 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOMA9AQBP2" received FIN.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOMA9AQBP1" received FIN.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP2" accepted.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP1" accepted.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP2" started.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP1" started.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP1" stopped.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP2" stopped.
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOMA9AQBP1" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:26:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOMA9AQBP2" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 07:26:23 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP3" accepted.
 
[2023-04-09 07:26:23 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOMA9AQBP3" started.
 
[2023-04-09 07:26:23 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOMA9AQBP3 established using the following protocol: "Tls12"
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 07:26:24 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 07:26:24 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 07:26:24 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 7.8008ms
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 447.5557ms
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.8294ms
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 07:26:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.8632ms
 
[2023-04-09 07:26:42 FTL] .. : Got exception during startup sequence
Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException: Exception of type 'Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException' was thrown.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\Program.cs:line 11
 
[2023-04-09 07:29:48 FTL] .. : Got exception during startup sequence
Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException: Exception of type 'Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException' was thrown.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\Program.cs:line 11
 
[2023-04-09 07:39:51 FTL] .. : Got exception during startup sequence
Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException: Exception of type 'Microsoft.Extensions.Hosting.HostFactoryResolver+HostingListener+HostAbortedException' was thrown.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args)
 
[2023-04-09 15:48:50 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 15:48:51 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (73ms).
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 15:48:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:48:52 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:48:52 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:48:52 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:48:52 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 15:48:52 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 15:48:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 15:48:52 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 15:48:52 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 15:48:52 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 15:48:52 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 15:48:52 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 15:48:52 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 15:48:52 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 15:48:52 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 15:48:52 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DJ" accepted.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DJ" started.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DK" accepted.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DK" started.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DK" received FIN.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DJ" received FIN.
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 15:48:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DJ" stopped.
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DK" stopped.
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DK" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DJ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DL" accepted.
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DL" started.
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOV334J6DL established using the following protocol: "Tls12"
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 15:48:55 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.1029ms
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 428.2630ms
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.6004ms
 
[2023-04-09 15:48:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 15:48:56 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - LibraryAPI.Data.Entities.Book. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$Book" for type "$LibraryAPI.Data.Entities.Book". The same schemaId is already used for type "$LibraryAPI.Data.DTO.Book"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 15:48:56 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 132.5499ms
 
[2023-04-09 15:49:47 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 15:49:47 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 15:49:47 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 15:49:47 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 23.8786ms
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 6.0278ms
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.6677ms
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 15:49:48 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate schema for type - LibraryAPI.Data.Entities.Book. See inner exception
 ---> System.InvalidOperationException: Can't use schemaId "$Book" for type "$LibraryAPI.Data.Entities.Book". The same schemaId is already used for type "$LibraryAPI.Data.DTO.Book"
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaRepository.RegisterType(Type type, String schemaId)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateReferencedSchema(DataContract dataContract, SchemaRepository schemaRepository, Func`1 definitionFactory)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateConcreteSchema(DataContract dataContract, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SchemaGenerator.GenerateSchemaForParameter(Type modelType, SchemaRepository schemaRepository, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateSchema(Type type, SchemaRepository schemaRepository, PropertyInfo propertyInfo, ParameterInfo parameterInfo, ApiParameterRouteInfo routeInfo)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBodyFromBodyParameter(ApiDescription apiDescription, SchemaRepository schemaRepository, ApiParameterDescription bodyParameter)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateRequestBody(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperation(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 15:49:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 27.3472ms
 
[2023-04-09 15:49:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DL" received FIN.
 
[2023-04-09 15:49:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOV334J6DL" is closed. The last processed stream ID was 15.
 
[2023-04-09 15:49:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV334J6DL" sending FIN because: "The client closed the connection."
 
[2023-04-09 15:49:55 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV334J6DL" stopped.
 
[2023-04-09 15:54:13 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 15:54:14 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 15:54:14 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 15:54:14 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:54:14 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:54:14 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 15:54:14 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:54:15 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:54:15 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:54:15 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:54:15 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 15:54:15 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 15:54:15 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 15:54:15 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 15:54:15 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 15:54:15 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 15:54:15 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHED" accepted.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHED" started.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV639EHEE" received FIN.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV639EHED" received FIN.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHEE" accepted.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHEE" started.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHEE" stopped.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHED" stopped.
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV639EHEE" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 15:54:15 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV639EHED" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 15:54:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHEF" accepted.
 
[2023-04-09 15:54:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV639EHEF" started.
 
[2023-04-09 15:54:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOV639EHEF established using the following protocol: "Tls12"
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 15:54:18 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 15:54:18 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 15:54:18 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 417.4637ms
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.5714ms
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.9611ms
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 15:54:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.3240ms
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 152
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryAPI.Data.Entities.Book]] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 7.9208ms
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 15:57:04 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'LibraryAPI.Controllers.BooksController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method12(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 15:57:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 152 - 500 - text/plain;+charset=utf-8 148.9407ms
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOV639EHEF", Request id "0HMPOV639EHEF:00000009": started reading request body.
 
[2023-04-09 15:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOV639EHEF", Request id "0HMPOV639EHEF:00000009": done reading request body.
 
[2023-04-09 15:59:47 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 15:59:48 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (61ms).
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:59:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:59:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:59:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:59:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 15:59:49 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 15:59:49 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 15:59:49 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 15:59:49 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 15:59:49 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 15:59:49 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 15:59:49 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV96OFQI6" accepted.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV96OFQI6" started.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV96OFQI6" received FIN.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV96OFQI6" stopped.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOV96OFQI6" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV96OFQI7" accepted.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOV96OFQI7" started.
 
[2023-04-09 15:59:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOV96OFQI7 established using the following protocol: "Tls12"
 
[2023-04-09 15:59:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 15:59:50 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 15:59:50 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 15:59:50 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.5289ms
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 444.4027ms
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.2671ms
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 15:59:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 211.8183ms
 
[2023-04-09 16:00:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 152
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:00:11 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:00:11 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryAPI.Data.Entities.Book]] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOV96OFQI7", Request id "0HMPOV96OFQI7:00000009": started reading request body.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOV96OFQI7", Request id "0HMPOV96OFQI7:00000009": done reading request body.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='1A2B3C' (Nullable = false), @p2='Джордж Оруэл' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='2', @p5='Скотный двор' (Nullable = false), @p6='2020' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:00:11 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='1A2B3C' (Nullable = false), @p2='Джордж Оруэл' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='2', @p5='Скотный двор' (Nullable = false), @p6='2020' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:00:11 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.Entities.Book'.
 
[2023-04-09 16:00:11 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 16:00:12 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Books/{id} for LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) resulting in /api/Books/cf6b7705-af16-419b-a431-d13bf6feda19 and 
 
[2023-04-09 16:00:12 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] with result /api/Books/cf6b7705-af16-419b-a431-d13bf6feda19
 
[2023-04-09 16:00:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 710.6385ms
 
[2023-04-09 16:00:12 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:00:12 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 152 - 201 - application/json;+charset=utf-8 830.0559ms
 
[2023-04-09 16:04:14 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:04:15 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 16:04:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:04:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:04:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:04:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:04:16 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:04:16 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:04:16 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:04:16 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:04:16 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:04:16 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:04:16 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C3" accepted.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C3" started.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C4" accepted.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C4" started.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C4" received FIN.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C3" received FIN.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C4" stopped.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C3" stopped.
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C4" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:04:16 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C3" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C5" accepted.
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C5" started.
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVBMC62C5 established using the following protocol: "Tls12"
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:04:17 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.3005ms
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 449.7253ms
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.3340ms
 
[2023-04-09 16:04:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:04:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.8849ms
 
[2023-04-09 16:04:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C5" received FIN.
 
[2023-04-09 16:04:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOVBMC62C5" is closed. The last processed stream ID was 7.
 
[2023-04-09 16:04:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVBMC62C5" sending FIN because: "The client closed the connection."
 
[2023-04-09 16:04:21 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C5" stopped.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C6" accepted.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVBMC62C6" started.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVBMC62C6 established using the following protocol: "Tls12"
 
[2023-04-09 16:05:54 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 143
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:05:54 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:05:54 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryAPI.Data.Entities.Book]] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVBMC62C6", Request id "0HMPOVBMC62C6:00000001": started reading request body.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVBMC62C6", Request id "0HMPOVBMC62C6:00000001": done reading request body.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:05:54 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:05:54 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='46AB12' (Nullable = false), @p2='Теодор Драйзер' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='1', @p5='ТИТАН' (Nullable = false), @p6='2005' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:05:55 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='46AB12' (Nullable = false), @p2='Теодор Драйзер' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='1', @p5='ТИТАН' (Nullable = false), @p6='2005' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:05:55 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Books/{id} for LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) resulting in /api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 and 
 
[2023-04-09 16:05:55 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] with result /api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589
 
[2023-04-09 16:05:55 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 716.7746ms
 
[2023-04-09 16:05:55 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:05:55 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 143 - 201 - application/json;+charset=utf-8 815.1632ms
 
[2023-04-09 16:07:11 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - -
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:11 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:11 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:07:11 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        True, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:07:12 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:07:12 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 48ms reading results.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:07:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:07:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:07:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 945.3482ms
 
[2023-04-09 16:07:12 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:12 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - - - 200 - application/json;+charset=utf-8 982.7483ms
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - -
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:07:40 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:07:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 68.1148ms
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:07:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - - - 404 - application/problem+json;+charset=utf-8 124.6068ms
 
[2023-04-09 16:08:37 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:08:37 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:08:37 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:08:37 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:08:37 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:08:38 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:08:38 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:08:38 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:08:38 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:08:38 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:08:38 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:08:38 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:08:38 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:08:38 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:08:38 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:08:38 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:08:38 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:08:38 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:08:38 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:08:38 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6DV" accepted.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6DV" started.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6DV" received FIN.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6DV" stopped.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6DV" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E0" accepted.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E0" started.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVE4GI6E0 established using the following protocol: "Tls12"
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:08:39 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 19.8666ms
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 438.6412ms
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.4967ms
 
[2023-04-09 16:08:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:08:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.5375ms
 
[2023-04-09 16:08:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E0" received FIN.
 
[2023-04-09 16:08:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOVE4GI6E0" is closed. The last processed stream ID was 7.
 
[2023-04-09 16:08:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E0" sending FIN because: "The client closed the connection."
 
[2023-04-09 16:08:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E0" stopped.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E1" accepted.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E1" started.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVE4GI6E1 established using the following protocol: "Tls12"
 
[2023-04-09 16:09:46 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - -
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:46 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:46 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        True, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:46 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:09:47 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 112ms reading results.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:09:47 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:09:47 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:09:47 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 1034.7136ms
 
[2023-04-09 16:09:47 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:47 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - - - 200 - application/json;+charset=utf-8 1140.2784ms
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - -
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:09:49 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 70.6164ms
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - - - 404 - application/problem+json;+charset=utf-8 98.5895ms
 
[2023-04-09 16:09:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E1" received FIN.
 
[2023-04-09 16:09:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOVE4GI6E1" is closed. The last processed stream ID was 3.
 
[2023-04-09 16:09:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E1" sending FIN because: "The client closed the connection."
 
[2023-04-09 16:09:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E1" stopped.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E2" accepted.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E2" started.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVE4GI6E2 established using the following protocol: "Tls12"
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - -
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a'
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b58a'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:09:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 33.9207ms
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 16:09:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b58a - - - 404 - application/problem+json;+charset=utf-8 55.9444ms
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 4
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LibraryAPI.Data.Entities.Book]] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVE4GI6E2", Request id "0HMPOVE4GI6E2:00000003": started reading request body.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVE4GI6E2", Request id "0HMPOVE4GI6E2:00000003": done reading request body.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 59ecd9d6-51c0-4a72-85c0-523a2457745f}'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='59ecd9d6-51c0-4a72-85c0-523a2457745f', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:10:19 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@p0='59ecd9d6-51c0-4a72-85c0-523a2457745f', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 59ecd9d6-51c0-4a72-85c0-523a2457745f}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Books/{id} for LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) resulting in /api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f and 
 
[2023-04-09 16:10:19 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] with result /api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 311.7015ms
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:10:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 4 - 201 - application/json;+charset=utf-8 341.4002ms
 
[2023-04-09 16:10:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E2" received FIN.
 
[2023-04-09 16:10:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOVE4GI6E2" is closed. The last processed stream ID was 3.
 
[2023-04-09 16:10:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E2" sending FIN because: "The client closed the connection."
 
[2023-04-09 16:10:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E2" stopped.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E3" accepted.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E3" started.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVE4GI6E3 established using the following protocol: "Tls12"
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f - -
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f'
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f'
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:10:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='59ecd9d6-51c0-4a72-85c0-523a2457745f' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:10:42 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@__get_Item_0='59ecd9d6-51c0-4a72-85c0-523a2457745f' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 59ecd9d6-51c0-4a72-85c0-523a2457745f}'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 59ecd9d6-51c0-4a72-85c0-523a2457745f}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='59ecd9d6-51c0-4a72-85c0-523a2457745f'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:10:42 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='59ecd9d6-51c0-4a72-85c0-523a2457745f'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 59ecd9d6-51c0-4a72-85c0-523a2457745f}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 16:10:42 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI) in 105.5442ms
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:10:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Books/59ecd9d6-51c0-4a72-85c0-523a2457745f - - - 204 - - 135.4022ms
 
[2023-04-09 16:10:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E3" received FIN.
 
[2023-04-09 16:10:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HMPOVE4GI6E3" is closed. The last processed stream ID was 1.
 
[2023-04-09 16:10:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVE4GI6E3" sending FIN because: "The client closed the connection."
 
[2023-04-09 16:10:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVE4GI6E3" stopped.
 
[2023-04-09 16:12:46 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:12:47 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 16:12:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:12:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:12:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:12:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:12:48 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:12:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:12:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:12:48 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:12:48 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:12:48 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:12:48 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29O" accepted.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29O" started.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29P" accepted.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29P" started.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVGEUO29O" received FIN.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVGEUO29P" received FIN.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29O" stopped.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29P" stopped.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVGEUO29P" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVGEUO29O" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29Q" accepted.
 
[2023-04-09 16:12:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVGEUO29Q" started.
 
[2023-04-09 16:12:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVGEUO29Q established using the following protocol: "Tls12"
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:12:49 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:12:49 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:12:49 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 18.8259ms
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 440.4189ms
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.6280ms
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:12:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.0864ms
 
[2023-04-09 16:13:00 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 23
 
[2023-04-09 16:13:00 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:13:00 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:13:00 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:13:00 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:00000009": started reading request body.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:00000009": done reading request body.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 2 | BytePositionInLine: 0.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter: The request has model state errors, returning an error response.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:13:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 156.5384ms
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 23 - 400 - application/problem+json;+charset=utf-8 276.8399ms
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 22
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000B": started reading request body.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000B": done reading request body.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 53e73f90-0399-48db-a894-44258570672a}'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='53e73f90-0399-48db-a894-44258570672a', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:13:12 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (55ms) [Parameters=[@p0='53e73f90-0399-48db-a894-44258570672a', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 53e73f90-0399-48db-a894-44258570672a}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Books/{id} for LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) resulting in /api/Books/53e73f90-0399-48db-a894-44258570672a and 
 
[2023-04-09 16:13:12 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] with result /api/Books/53e73f90-0399-48db-a894-44258570672a
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 627.0645ms
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:12 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 22 - 201 - application/json;+charset=utf-8 672.8118ms
 
[2023-04-09 16:13:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 23
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:27 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:13:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000D": started reading request body.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000D": done reading request body.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 2 | BytePositionInLine: 0.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter: The request has model state errors, returning an error response.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:13:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:13:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
 
[2023-04-09 16:13:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 71.88ms
 
[2023-04-09 16:13:28 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:28 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 23 - 400 - application/problem+json;+charset=utf-8 108.4236ms
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 3
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000F": started reading request body.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVGEUO29Q", Request id "0HMPOVGEUO29Q:0000000F": done reading request body.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: d9c3d8d7-05b8-422a-ade8-3714bca01587}'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='d9c3d8d7-05b8-422a-ade8-3714bca01587', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:13:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@p0='d9c3d8d7-05b8-422a-ade8-3714bca01587', @p1='' (Nullable = false), @p2='' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='' (Nullable = false), @p6='' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: d9c3d8d7-05b8-422a-ade8-3714bca01587}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Books/{id} for LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) resulting in /api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587 and 
 
[2023-04-09 16:13:53 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)"] with result /api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 61.4197ms
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:13:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 3 - 201 - application/json;+charset=utf-8 99.3283ms
 
[2023-04-09 16:14:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Books/53e73f90-0399-48db-a894-44258570672a - -
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/53e73f90-0399-48db-a894-44258570672a'
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/53e73f90-0399-48db-a894-44258570672a'
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:15 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:14:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:15 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='53e73f90-0399-48db-a894-44258570672a' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:14:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__get_Item_0='53e73f90-0399-48db-a894-44258570672a' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 53e73f90-0399-48db-a894-44258570672a}'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 53e73f90-0399-48db-a894-44258570672a}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='53e73f90-0399-48db-a894-44258570672a'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:14:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@p0='53e73f90-0399-48db-a894-44258570672a'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 53e73f90-0399-48db-a894-44258570672a}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 16:14:16 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:14:16 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 16:14:16 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI) in 705.1506ms
 
[2023-04-09 16:14:16 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:16 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Books/53e73f90-0399-48db-a894-44258570672a - - - 204 - - 737.0941ms
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587 - -
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587'
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587'
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:14:36 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='d9c3d8d7-05b8-422a-ade8-3714bca01587' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:14:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__get_Item_0='d9c3d8d7-05b8-422a-ade8-3714bca01587' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: d9c3d8d7-05b8-422a-ade8-3714bca01587}'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: d9c3d8d7-05b8-422a-ade8-3714bca01587}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='d9c3d8d7-05b8-422a-ade8-3714bca01587'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:14:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (2ms) [Parameters=[@p0='d9c3d8d7-05b8-422a-ade8-3714bca01587'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: d9c3d8d7-05b8-422a-ade8-3714bca01587}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 16:14:36 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI) in 54.3904ms
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:14:36 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Books/d9c3d8d7-05b8-422a-ade8-3714bca01587 - - - 204 - - 93.5376ms
 
[2023-04-09 16:16:00 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:16:00 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:16:01 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:16:01 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:16:01 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:16:01 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 16ms reading results.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:16:01 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:16:01 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:16:02 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:16:02 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:16:02 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:16:02 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:16:02 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:16:02 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD5" accepted.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD6" accepted.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD5" started.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD6" started.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVI8J2GD6" received FIN.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVI8J2GD5" received FIN.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD6" stopped.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD5" stopped.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVI8J2GD6" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVI8J2GD5" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD7" accepted.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVI8J2GD7" started.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVI8J2GD7 established using the following protocol: "Tls12"
 
[2023-04-09 16:16:02 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:16:02 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:16:02 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:16:02 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:16:02 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 453.4298ms
 
[2023-04-09 16:16:02 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.5833ms
 
[2023-04-09 16:16:03 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.0195ms
 
[2023-04-09 16:16:03 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:16:03 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 198.9151ms
 
[2023-04-09 16:16:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 120
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:16:14 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:16:14 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVI8J2GD7", Request id "0HMPOVI8J2GD7:00000009": started reading request body.
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVI8J2GD7", Request id "0HMPOVI8J2GD7:00000009": done reading request body.
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:16:14 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 90b4c36e-888a-4958-8ec4-fe4c0d546ac4}'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4', @p1='string' (Nullable = false), @p2='string' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='string' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:16:15 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (38ms) [Parameters=[@p0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4', @p1='string' (Nullable = false), @p2='string' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='string' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 90b4c36e-888a-4958-8ec4-fe4c0d546ac4}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:16:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:16:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:16:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 775.6451ms
 
[2023-04-09 16:16:15 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:16:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 120 - 200 - application/json;+charset=utf-8 897.9272ms
 
[2023-04-09 16:16:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Books/90b4c36e-888a-4958-8ec4-fe4c0d546ac4 - -
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/90b4c36e-888a-4958-8ec4-fe4c0d546ac4'
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/90b4c36e-888a-4958-8ec4-fe4c0d546ac4'
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:16:43 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:16:43 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:16:43 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:16:43 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:16:44 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__get_Item_0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 90b4c36e-888a-4958-8ec4-fe4c0d546ac4}'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 90b4c36e-888a-4958-8ec4-fe4c0d546ac4}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:16:44 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@p0='90b4c36e-888a-4958-8ec4-fe4c0d546ac4'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 90b4c36e-888a-4958-8ec4-fe4c0d546ac4}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 16:16:44 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:16:44 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 16:16:44 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI) in 781.7519ms
 
[2023-04-09 16:16:44 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:16:44 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Books/90b4c36e-888a-4958-8ec4-fe4c0d546ac4 - - - 204 - - 822.9807ms
 
[2023-04-09 16:17:18 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:17:19 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:17:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:17:20 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:17:20 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:17:20 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:17:20 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:17:20 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:17:20 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:17:20 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:17:20 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:17:20 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:17:20 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JS" accepted.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JS" started.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVJ0008JT" received FIN.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVJ0008JS" received FIN.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JT" accepted.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JT" started.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JS" stopped.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JT" stopped.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVJ0008JT" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPOVJ0008JS" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JU" accepted.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPOVJ0008JU" started.
 
[2023-04-09 16:17:20 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPOVJ0008JU established using the following protocol: "Tls12"
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:17:21 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:17:21 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:17:21 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.6985ms
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 443.8244ms
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.7160ms
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:17:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.6818ms
 
[2023-04-09 16:17:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books application/json 120
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:17:27 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:17:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateBook(LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVJ0008JU", Request id "0HMPOVJ0008JU:00000009": started reading request body.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPOVJ0008JU", Request id "0HMPOVJ0008JU:00000009": done reading request body.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 16:17:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: aa90a279-18b5-473d-bf8f-846f6ea79ed7}'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:17:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='aa90a279-18b5-473d-bf8f-846f6ea79ed7', @p1='string' (Nullable = false), @p2='string' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='string' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:17:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@p0='aa90a279-18b5-473d-bf8f-846f6ea79ed7', @p1='string' (Nullable = false), @p2='string' (Nullable = false), @p3=NULL (DbType = DateTime), @p4='0', @p5='string' (Nullable = false), @p6='string' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Books" ("Id", "Article", "Author", "DeleteTime", "ExemplarCount", "Name", "PublicationYear")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: aa90a279-18b5-473d-bf8f-846f6ea79ed7}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:17:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:17:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing ObjectResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 16:17:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI) in 538.6731ms
 
[2023-04-09 16:17:28 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI)'
 
[2023-04-09 16:17:28 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books application/json 120 - 201 - application/json;+charset=utf-8 656.2625ms
 
[2023-04-09 16:17:46 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Books/aa90a279-18b5-473d-bf8f-846f6ea79ed7 - -
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/aa90a279-18b5-473d-bf8f-846f6ea79ed7'
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/aa90a279-18b5-473d-bf8f-846f6ea79ed7'
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:17:46 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:17:46 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:17:46 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='aa90a279-18b5-473d-bf8f-846f6ea79ed7' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:17:46 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__get_Item_0='aa90a279-18b5-473d-bf8f-846f6ea79ed7' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: aa90a279-18b5-473d-bf8f-846f6ea79ed7}'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 20ms reading results.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: aa90a279-18b5-473d-bf8f-846f6ea79ed7}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:17:46 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='aa90a279-18b5-473d-bf8f-846f6ea79ed7'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:17:47 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='aa90a279-18b5-473d-bf8f-846f6ea79ed7'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Books"
WHERE "Id" = @p0;
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: aa90a279-18b5-473d-bf8f-846f6ea79ed7}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 16:17:47 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 16:17:47 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 16:17:47 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI) in 771.3044ms
 
[2023-04-09 16:17:47 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.DeleteBook (LibraryAPI)'
 
[2023-04-09 16:17:47 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Books/aa90a279-18b5-473d-bf8f-846f6ea79ed7 - - - 204 - - 809.3995ms
 
[2023-04-09 16:49:46 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:49:47 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (68ms).
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (12ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (5ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (15ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:49:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:49:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:49:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 19ms reading results.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:49:48 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:49:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:49:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:49:48 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:49:48 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:49:48 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:49:48 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KQ" accepted.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KP" accepted.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KQ" started.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KP" started.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP054IP7KQ" received FIN.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP054IP7KP" received FIN.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KP" stopped.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KQ" stopped.
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP054IP7KQ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:49:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP054IP7KP" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KR" accepted.
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP054IP7KR" started.
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP054IP7KR established using the following protocol: "Tls12"
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:49:49 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 23.4076ms
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 474.4843ms
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.1068ms
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:49:49 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Books" for actions - LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI),LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 16:49:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 126.0291ms
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:50:04 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:50:04 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 21.1821ms
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 5.2578ms
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1990ms
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:50:04 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Books" for actions - LibraryAPI.Controllers.BooksController.CreateBook (LibraryAPI),LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 16:50:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 44.5247ms
 
[2023-04-09 16:51:24 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:51:25 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (13ms).
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (6ms).
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 16:51:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:51:26 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:51:26 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:51:26 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:51:26 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:51:26 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:51:26 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:51:26 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:51:26 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:51:26 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:51:26 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSM" accepted.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSM" started.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSN" accepted.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSN" started.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP061Q5NSN" received FIN.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP061Q5NSM" received FIN.
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:51:26 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSM" stopped.
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSN" stopped.
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP061Q5NSM" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP061Q5NSN" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSO" accepted.
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP061Q5NSO" started.
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP061Q5NSO established using the following protocol: "Tls12"
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:51:27 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.3165ms
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 436.1233ms
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.1193ms
 
[2023-04-09 16:51:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:51:28 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 217.1967ms
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 159
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)' with route pattern 'api/Books/{id}/give' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBook(System.Guid, LibraryAPI.Data.Entities.Reader) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' using the name '' in request data ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP061Q5NSO", Request id "0HMPP061Q5NSO:00000009": started reading request body.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP061Q5NSO", Request id "0HMPP061Q5NSO:00000009": done reading request body.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter threw an exception: ']' is an invalid start of a property name. Expected a '"'. Path: $ | LineNumber: 4 | BytePositionInLine: 2.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter: The request has model state errors, returning an error response.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: No information found on request to perform content negotiation.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 16:54:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI) in 220.8663ms
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:09 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 159 - 400 - application/problem+json;+charset=utf-8 370.8862ms
 
[2023-04-09 16:54:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 106
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)' with route pattern 'api/Books/{id}/give' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:34 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:34 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBook(System.Guid, LibraryAPI.Data.Entities.Reader) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' using the name '' in request data ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP061Q5NSO", Request id "0HMPP061Q5NSO:0000000B": started reading request body.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP061Q5NSO", Request id "0HMPP061Q5NSO:0000000B": done reading request body.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.Entities.Reader'
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:54:34 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:54:34 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 16:54:34 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:54:35 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:54:35 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 128ms reading results.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 18ms reading results.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 1 entities were added and 0 entities were removed from skip navigation 'Book.Readers' on entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: f3a349c1-96e8-4180-86db-0899b05f9bfa}'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: f3a349c1-96e8-4180-86db-0899b05f9bfa}'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Update: Executing 2 update commands as a batch.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Beginning transaction with isolation level 'Unspecified'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Began transaction with isolation level 'ReadCommitted'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='f3a349c1-96e8-4180-86db-0899b05f9bfa', @p5='f3a349c1-96e8-4180-86db-0899b05f9bfa', @p2='2000-07-17T13:51:33.2960000Z' (Nullable = true) (DbType = DateTime), @p3=NULL (DbType = DateTime), @p4='Тикка Григорий Валерьевич' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
UPDATE "Readers" SET "BirthDate" = @p2, "DeleteTime" = @p3, "FIO" = @p4
WHERE "Id" = @p5;
 
[2023-04-09 16:54:35 ERR] .. Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (30ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='f3a349c1-96e8-4180-86db-0899b05f9bfa', @p5='f3a349c1-96e8-4180-86db-0899b05f9bfa', @p2='2000-07-17T13:51:33.2960000Z' (Nullable = true) (DbType = DateTime), @p3=NULL (DbType = DateTime), @p4='Тикка Григорий Валерьевич' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
UPDATE "Readers" SET "BirthDate" = @p2, "DeleteTime" = @p3, "FIO" = @p4
WHERE "Id" = @p5;
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Disposing transaction.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:54:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 16:54:35 ERR] .. Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'LibraryAPI.Data.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|232_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BookReader
    ConstraintName: FK_BookReader_Readers_ReadersId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|232_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BookReader
    ConstraintName: FK_BookReader_Readers_ReadersId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
 
[2023-04-09 16:54:36 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI) in 1852.2879ms
 
[2023-04-09 16:54:36 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:54:36 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|232_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23503
    MessageText: INSERT или UPDATE в таблице "BookReader" нарушает ограничение внешнего ключа "FK_BookReader_Readers_ReadersId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: BookReader
    ConstraintName: FK_BookReader_Readers_ReadersId
    File: ri_triggers.c
    Line: 2607
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryAPI.Controllers.BooksController.GiveBook(Guid id, Reader reader) in C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\Controllers\BooksController.cs:line 185
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 16:54:36 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 106 - 500 - text/plain;+charset=utf-8 2005.4309ms
 
[2023-04-09 16:57:02 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 16:57:03 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (61ms).
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (13ms).
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (13ms).
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:03 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:57:04 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:57:04 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:57:04 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 16ms reading results.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 16:57:04 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 16:57:04 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 16:57:04 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 16:57:04 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 16:57:04 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 16:57:04 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 16:57:04 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKE" accepted.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKE" started.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP096BPQKF" received FIN.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP096BPQKE" received FIN.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKF" accepted.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKF" started.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKF" stopped.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKE" stopped.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP096BPQKE" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP096BPQKF" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKG" accepted.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP096BPQKG" started.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP096BPQKG established using the following protocol: "Tls12"
 
[2023-04-09 16:57:04 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 16:57:04 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 16:57:05 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.1384ms
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 437.9809ms
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.4497ms
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 16:57:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 187.9519ms
 
[2023-04-09 16:57:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 106
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)' with route pattern 'api/Books/{id}/give' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:57:48 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:57:48 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBook(System.Guid, LibraryAPI.Data.Entities.Reader) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' using the name '' in request data ...
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP096BPQKG", Request id "0HMPP096BPQKG:00000009": started reading request body.
 
[2023-04-09 16:57:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP096BPQKG", Request id "0HMPP096BPQKG:00000009": done reading request body.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.Entities.Reader'
 
[2023-04-09 16:57:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader' ...
 
[2023-04-09 16:57:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'reader' of type 'LibraryAPI.Data.Entities.Reader'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (11ms).
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:57:50 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (33ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:57:50 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 130ms reading results.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 1 entities were added and 0 entities were removed from skip navigation 'Book.Readers' on entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Update: Executing 2 update commands as a batch.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Beginning transaction with isolation level 'Unspecified'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Began transaction with isolation level 'ReadCommitted'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p1='2000-07-17T13:57:13.5070000Z' (Nullable = true) (DbType = DateTime), @p2=NULL (DbType = DateTime), @p3='Тикка Григорий Валерьевич' (Nullable = false), @p4='608ad80c-3680-44ff-87d4-0576a5c7b589', @p5='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Readers" ("Id", "BirthDate", "DeleteTime", "FIO")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p4, @p5);
 
[2023-04-09 16:57:50 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@p0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p1='2000-07-17T13:57:13.5070000Z' (Nullable = true) (DbType = DateTime), @p2=NULL (DbType = DateTime), @p3='Тикка Григорий Валерьевич' (Nullable = false), @p4='608ad80c-3680-44ff-87d4-0576a5c7b589', @p5='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Readers" ("Id", "BirthDate", "DeleteTime", "FIO")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p4, @p5);
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Committing transaction.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Committed transaction.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Disposing transaction.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 16:57:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: No information found on request to perform content negotiation.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 16:57:50 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 16:57:50 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.Entities.Book'.
 
[2023-04-09 16:57:50 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI) in 1738.3798ms
 
[2023-04-09 16:57:50 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 16:57:50 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Readers.Books.Readers.Books.Readers.Books.Readers.Books.Readers.Books.Readers.Books.Readers.Books.Readers.Books.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 16:57:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give application/json 106 - 500 - text/plain;+charset=utf-8 2066.8301ms
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 17:04:29 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (62ms).
 
[2023-04-09 17:04:29 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:04:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 17:04:30 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 17:04:30 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 17:04:30 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 17:04:30 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 17:04:30 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 17:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 17:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 17:04:30 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 17:04:30 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 17:04:30 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 17:04:30 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 17:04:30 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0DBG1MGU" received FIN.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0DBG1MGU" accepted.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0DBG1MGU" started.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0DBG1MGU" stopped.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0DBG1MGU" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0DBG1MGV" accepted.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0DBG1MGV" started.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP0DBG1MGV established using the following protocol: "Tls12"
 
[2023-04-09 17:04:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 17:04:31 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:04:43 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 17:04:43 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 17.4742ms
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 102.9610ms
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.5826ms
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 17:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.3150ms
 
[2023-04-09 17:05:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give?readerId=e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - 0
 
[2023-04-09 17:05:25 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)' with route pattern 'api/Books/{id}/give' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give'
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 17:05:26 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 17:05:26 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBook(System.Guid, System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'readerId' of type 'System.Guid' ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'readerId' of type 'System.Guid' using the name 'readerId' in request data ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'readerId' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'readerId' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'readerId' of type 'System.Guid' ...
 
[2023-04-09 17:05:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'readerId' of type 'System.Guid'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:05:26 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (21ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:05:26 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:05:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 182ms reading results.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 57ms reading results.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:05:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:05:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: No information found on request to perform content negotiation.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:05:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
 
[2023-04-09 17:05:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'.
 
[2023-04-09 17:05:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI) in 1057.2539ms
 
[2023-04-09 17:05:27 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GiveBook (LibraryAPI)'
 
[2023-04-09 17:05:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589/give?readerId=e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - 0 - 400 - text/plain;+charset=utf-8 1167.4235ms
 
[2023-04-09 17:08:01 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: PUT requests are not supported
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:08:01 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:08:01 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(System.Guid, LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0DBG1MGV", Request id "0HMPP0DBG1MGV:0000000D": started reading request body.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0DBG1MGV", Request id "0HMPP0DBG1MGV:0000000D": done reading request body.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:08:01 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='608ad80c-3680-44ff-87d4-0576a5c7b589' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 17:08:01 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__get_Item_0='608ad80c-3680-44ff-87d4-0576a5c7b589' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:08:01 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (0ms).
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Book.Name' was detected as changed from 'ТИТАН' to 'СТОЙК' and will be marked as modified for entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='СТОЙК' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:09:22 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='СТОЙК' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
 
[2023-04-09 17:09:22 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 17:09:22 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 17:09:22 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI) in 80969.0069ms
 
[2023-04-09 17:09:22 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:09:22 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143 - 204 - - 81001.5895ms
 
[2023-04-09 17:10:29 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 17:10:30 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (68ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:10:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:10:30 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:30 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:10:31 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 17:10:31 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 17:10:31 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 17:10:31 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 17:10:31 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 17:10:31 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 17:10:31 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 17:10:31 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115C" accepted.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115C" started.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115D" accepted.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115D" started.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0GMR115C" received FIN.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0GMR115D" received FIN.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115D" stopped.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115C" stopped.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0GMR115C" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0GMR115D" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115E" accepted.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0GMR115E" started.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP0GMR115E established using the following protocol: "Tls12"
 
[2023-04-09 17:10:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 17:10:31 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:10:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:10:49 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 17:10:50 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 14.1579ms
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 97.0770ms
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.9742ms
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 17:10:50 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 171.3810ms
 
[2023-04-09 17:11:22 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: PUT requests are not supported
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:11:22 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:11:22 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(System.Guid, LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0GMR115E", Request id "0HMPP0GMR115E:0000000B": started reading request body.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0GMR115E", Request id "0HMPP0GMR115E:0000000B": done reading request body.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:11:22 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:11:22 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:11:23 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (28ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:11:23 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 179ms reading results.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 56ms reading results.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Book.Name' was detected as changed from 'СТОЙК' to 'ТИТАН' and will be marked as modified for entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='ТИТАН' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:11:56 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (19ms) [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='ТИТАН' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
 
[2023-04-09 17:11:56 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 17:11:56 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 17:11:56 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI) in 33737.2603ms
 
[2023-04-09 17:11:56 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:11:56 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143 - 204 - - 33876.0089ms
 
[2023-04-09 17:13:05 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 17:13:06 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (70ms).
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:06 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (5ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:13:07 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:13:07 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:13:07 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:07 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 17:13:07 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 17:13:07 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 17:13:07 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 17:13:07 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 17:13:07 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 17:13:07 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHE" accepted.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHE" started.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHF" accepted.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHF" started.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0I5GDTHF" received FIN.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0I5GDTHE" received FIN.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHF" stopped.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHE" stopped.
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0I5GDTHF" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:13:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0I5GDTHE" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHG" accepted.
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0I5GDTHG" started.
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP0I5GDTHG established using the following protocol: "Tls12"
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 17:13:08 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.8372ms
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 441.6827ms
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.1393ms
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 17:13:08 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 191.7634ms
 
[2023-04-09 17:13:12 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books - -
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:13:12 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:13:12 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:13:12 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .AsNoTrackingWithIdentityResolution()'
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
 
[2023-04-09 17:13:12 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 113ms reading results.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:13 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:13:13 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: No information found on request to perform content negotiation.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:13:13 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:13:13 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:13:13 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI) in 731.6151ms
 
[2023-04-09 17:13:13 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:13:13 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books - - - 200 - application/json;+charset=utf-8 878.7178ms
 
[2023-04-09 17:13:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: PUT requests are not supported
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:13:48 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:13:48 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(System.Guid, LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0I5GDTHG", Request id "0HMPP0I5GDTHG:0000000B": started reading request body.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0I5GDTHG", Request id "0HMPP0I5GDTHG:0000000B": done reading request body.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:13:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (10ms).
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:13:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (45ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:13:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 109ms reading results.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 58ms reading results.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Book.Name' was detected as changed from 'ТИТАН' to 'СТОЙК' and will be marked as modified for entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='СТОЙК' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:13:51 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='СТОЙК' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
 
[2023-04-09 17:13:51 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 17:13:51 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 17:13:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI) in 3782.0117ms
 
[2023-04-09 17:13:51 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:13:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143 - 204 - - 3844.9939ms
 
[2023-04-09 17:15:31 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 17:15:32 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (68ms).
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:15:33 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:15:33 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:15:33 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:15:33 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 17:15:33 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 17:15:33 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 17:15:33 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 17:15:33 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 17:15:33 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 17:15:33 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O6" accepted.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O6" started.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0JGT03O7" received FIN.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0JGT03O6" received FIN.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O7" accepted.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O7" started.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O6" stopped.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O7" stopped.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0JGT03O6" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP0JGT03O7" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O8" accepted.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP0JGT03O8" started.
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP0JGT03O8 established using the following protocol: "Tls12"
 
[2023-04-09 17:15:33 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:15:33 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 17:15:34 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 17:15:34 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 16.9025ms
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 429.2592ms
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.0707ms
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 17:15:34 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.2951ms
 
[2023-04-09 17:15:39 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books - -
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books'
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)' with route pattern 'api/Books' is valid for the request path '/api/Books'
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:15:39 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:15:39 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:15:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .AsNoTrackingWithIdentityResolution()'
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
 
[2023-04-09 17:15:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 118ms reading results.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:15:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:15:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: No information found on request to perform content negotiation.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:15:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:15:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:15:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI) in 690.4846ms
 
[2023-04-09 17:15:40 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBooks (LibraryAPI)'
 
[2023-04-09 17:15:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books - - - 200 - application/json;+charset=utf-8 814.7860ms
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - -
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBook(System.Guid) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__id_0
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        True, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:15:51 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (20ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:15:51 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 106ms reading results.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 63ms reading results.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (5ms).
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:15:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Book'.
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI) in 641.8743ms
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)'
 
[2023-04-09 17:15:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 - - - 200 - application/json;+charset=utf-8 704.6302ms
 
[2023-04-09 17:16:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: PUT requests are not supported
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:16:17 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:16:17 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "UpdateBook", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBook(System.Guid, LibraryAPI.Data.DTO.NewBook) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' using the name '' in request data ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0JGT03O8", Request id "0HMPP0JGT03O8:0000000D": started reading request body.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP0JGT03O8", Request id "0HMPP0JGT03O8:0000000D": done reading request body.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewBook'
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook' ...
 
[2023-04-09 17:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'updatedBook' of type 'LibraryAPI.Data.DTO.NewBook'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SingleQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE b.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__get_Item_0='608ad80c-3680-44ff-87d4-0576a5c7b589' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 17:16:17 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__get_Item_0='608ad80c-3680-44ff-87d4-0576a5c7b589' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE b."Id" = @__get_Item_0
LIMIT 1
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Book.Name' was detected as changed from 'СТОЙК' to 'Титан' and will be marked as modified for entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='Титан' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:16:19 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@p1='608ad80c-3680-44ff-87d4-0576a5c7b589', @p0='Титан' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Books" SET "Name" = @p0
WHERE "Id" = @p1;
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
 
[2023-04-09 17:16:19 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 17:16:19 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 17:16:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI) in 2105.3496ms
 
[2023-04-09 17:16:19 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.UpdateBook (LibraryAPI)'
 
[2023-04-09 17:16:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 PUT https://localhost:7190/api/Books/608ad80c-3680-44ff-87d4-0576a5c7b589 application/json 143 - 204 - - 2154.2144ms
 
[2023-04-09 17:56:47 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 17:56:48 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (63ms).
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 17:56:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:56:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:56:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:56:49 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:56:49 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 17:56:49 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 17:56:49 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 17:56:49 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 17:56:49 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 17:56:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 17:56:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 17:56:49 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 17:56:49 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 17:56:49 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 17:56:49 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 17:56:49 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I830" accepted.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I830" started.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I831" accepted.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I831" started.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1AJ0I831" received FIN.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1AJ0I830" received FIN.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I830" stopped.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I831" stopped.
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1AJ0I831" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:56:50 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1AJ0I830" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 17:56:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I832" accepted.
 
[2023-04-09 17:56:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1AJ0I832" started.
 
[2023-04-09 17:56:52 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP1AJ0I832 established using the following protocol: "Tls12"
 
[2023-04-09 17:56:52 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:56:52 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 17:56:52 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:57:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 17:57:18 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 17:57:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 17:57:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 17:57:19 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 17:57:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.7912ms
 
[2023-04-09 17:57:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 102.4140ms
 
[2023-04-09 17:57:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.2963ms
 
[2023-04-09 17:57:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 17:57:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.9730ms
 
[2023-04-09 17:57:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/givenOutBooks - -
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)' with route pattern 'api/Books/givenOutBooks' is valid for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 17:57:38 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 17:57:38 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetGivenOutBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGivenOutBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:57:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:57:38 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Readers
        .Any())'
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            1 -> 0
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && EXISTS (
            SELECT 1
            FROM BookReader AS b0
            INNER JOIN Readers AS r ON b0.ReadersId == r.Id
            WHERE (b.Id != NULL) && (b.Id == b0.BooksId))
        ORDER BY b.Id ASC), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
    null, 
    Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 17:57:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 17:57:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 174ms reading results.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 64ms reading results.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:57:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:57:39 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 17:57:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 17:57:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:57:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:57:40 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:57:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:57:40 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI) in 1200.0551ms
 
[2023-04-09 17:57:40 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 17:57:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/givenOutBooks - - - 200 - application/json;+charset=utf-8 1344.4758ms
 
[2023-04-09 17:57:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/availableBooks - -
 
[2023-04-09 17:57:53 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:57:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/availableBooks'
 
[2023-04-09 17:57:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)' with route pattern 'api/Books/availableBooks' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 17:57:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Readers.Count < b.ExemplarCount)'
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            1 -> 0
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && ((
            SELECT CAST(count(*) AS integer)
            FROM BookReader AS b0
            INNER JOIN Readers AS r ON b0.ReadersId == r.Id
            WHERE (b.Id != NULL) && (b.Id == b0.BooksId)) < b.ExemplarCount)
        ORDER BY b.Id ASC), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
    null, 
    Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 17:57:54 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (10ms).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 17:57:54 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 25ms reading results.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (6ms).
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:57:54 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI) in 150.2454ms
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 17:57:54 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/availableBooks - - - 200 - application/json;+charset=utf-8 197.5439ms
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%BA%D0%BE%D1%82 - -
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Name.ToLower().Contains(__ToLower_0))'
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && ((@__ToLower_0 == '') || (strpos(lower(b.Name), @__ToLower_0) > 0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (12ms).
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='кот'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 17:59:42 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (31ms) [Parameters=[@__ToLower_0='кот'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:59:42 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 177.2052ms
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%BA%D0%BE%D1%82 - - - 200 - application/json;+charset=utf-8 244.1187ms
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%A1%D0%BA%D0%BE%D1%82 - -
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='скот'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 17:59:51 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__ToLower_0='скот'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (8ms).
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 17:59:51 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 81.3109ms
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 17:59:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%A1%D0%BA%D0%BE%D1%82 - - - 200 - application/json;+charset=utf-8 128.1144ms
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%20 - -
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter: The request has model state errors, returning an error response.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
 
[2023-04-09 18:00:05 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 74.5607ms
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:05 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%20 - - - 400 - application/problem+json;+charset=utf-8 129.5581ms
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%81%D0%BA%D0%BE%D1%82%D0%BD%D1%8B%D0%B9 - -
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='скотный'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:15 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (13ms) [Parameters=[@__ToLower_0='скотный'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:00:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 83.0022ms
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%81%D0%BA%D0%BE%D1%82%D0%BD%D1%8B%D0%B9 - - - 200 - application/json;+charset=utf-8 131.5432ms
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%81%D1%82%D0%BE - -
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='сто'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:19 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__ToLower_0='сто'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:00:19 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 81.1292ms
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:19 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%81%D1%82%D0%BE - - - 200 - application/json;+charset=utf-8 137.6885ms
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82%D0%B8%D1%82 - -
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='тит'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:23 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__ToLower_0='тит'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:00:23 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 81.307ms
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:23 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82%D0%B8%D1%82 - - - 200 - application/json;+charset=utf-8 137.7377ms
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%B8 - -
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='и'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:26 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__ToLower_0='и'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:00:26 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 96.8321ms
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:26 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D0%B8 - - - 200 - application/json;+charset=utf-8 143.9631ms
 
[2023-04-09 18:00:37 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82 - -
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:37 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:37 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:00:37 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:00:37 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:00:37 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 18:00:37 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 18:00:37 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:00:37 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='т'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:38 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__ToLower_0='т'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:00:38 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:00:38 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:00:38 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 84.4916ms
 
[2023-04-09 18:00:38 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:00:38 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82 - - - 200 - application/json;+charset=utf-8 164.8966ms
 
[2023-04-09 18:10:37 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 18:10:38 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (69ms).
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:38 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:10:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:10:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 18:10:39 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:10:39 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 18:10:39 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 18:10:39 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 18:10:39 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 18:10:39 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 18:10:39 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 18:10:39 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9T" accepted.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9T" started.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9U" accepted.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9U" started.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1IA86V9T" received FIN.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1IA86V9U" received FIN.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9T" stopped.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9U" stopped.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1IA86V9U" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1IA86V9T" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9V" accepted.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1IA86V9V" started.
 
[2023-04-09 18:10:39 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP1IA86V9V established using the following protocol: "Tls12"
 
[2023-04-09 18:10:40 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 18:10:40 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 18:10:40 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 18:10:51 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 18:10:51 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 18.5630ms
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 99.0370ms
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2229ms
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 18:10:51 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.4317ms
 
[2023-04-09 18:11:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%20v - -
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:15 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:15 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:11:15 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:15 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Name.ToLower().Contains(__ToLower_0))'
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && ((@__ToLower_0 == '') || (strpos(lower(b.Name), @__ToLower_0) > 0))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Book>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0=' v'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:11:16 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[@__ToLower_0=' v'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:16 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:11:16 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 18:11:16 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 721.7732ms
 
[2023-04-09 18:11:16 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:16 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%20v - - - 204 - - 861.2122ms
 
[2023-04-09 18:11:24 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82 - -
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/search'
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)' with route pattern 'api/Books/search' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/search'
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:24 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:24 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "SearchBooksByName", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchBooksByName(System.String) on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'searchText' of type 'System.String' using the name 'searchText' in request data ...
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'searchText' of type 'System.String' ...
 
[2023-04-09 18:11:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'searchText' of type 'System.String'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__ToLower_0='т'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:11:24 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__ToLower_0='т'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (@__ToLower_0 = '' OR strpos(lower(b."Name"), @__ToLower_0) > 0)
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 100ms reading results.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:11:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 18:11:25 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 18:11:25 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 18:11:25 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI) in 381.8434ms
 
[2023-04-09 18:11:25 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.SearchBooksByName (LibraryAPI)'
 
[2023-04-09 18:11:25 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/search?searchText=%D1%82 - - - 200 - application/json;+charset=utf-8 436.4763ms
 
[2023-04-09 18:13:11 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 18:13:12 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (64ms).
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 18:13:12 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (10ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:13:13 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:13:13 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 18:13:13 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 16ms reading results.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 18:13:13 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 18:13:13 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 18:13:13 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 18:13:13 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 18:13:13 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 18:13:13 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 18:13:13 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 18:13:13 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 18:13:13 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 18:13:13 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 18:13:13 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 18:13:13 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM65" accepted.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM65" started.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1JO7QM66" received FIN.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1JO7QM65" received FIN.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM66" accepted.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM66" started.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM66" stopped.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM65" stopped.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1JO7QM66" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP1JO7QM65" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM67" accepted.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP1JO7QM67" started.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP1JO7QM67 established using the following protocol: "Tls12"
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 18:13:14 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 19.8672ms
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 455.0091ms
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.3364ms
 
[2023-04-09 18:13:14 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 18:13:15 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.2062ms
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 19:04:40 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 19:04:40 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (61ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (3ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:04:41 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (7ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:04:41 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:04:41 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 18ms reading results.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 19:04:41 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 19:04:41 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 19:04:41 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 19:04:41 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 19:04:41 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 19:04:41 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 19:04:41 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 19:04:41 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 19:04:41 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 19:04:41 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 19:04:41 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 19:04:41 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI8" accepted.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI8" started.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2GGH4OI9" received FIN.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2GGH4OI8" received FIN.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI9" accepted.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI9" started.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI9" stopped.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OI8" stopped.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2GGH4OI9" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2GGH4OI8" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OIA" accepted.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2GGH4OIA" started.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP2GGH4OIA established using the following protocol: "Tls12"
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 19:04:42 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 15.9028ms
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 309.0430ms
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.5651ms
 
[2023-04-09 19:04:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 19:04:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 209.2215ms
 
[2023-04-09 19:06:52 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 19:06:53 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (66ms).
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (11ms).
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:06:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (6ms).
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:06:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:06:54 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:06:54 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 19:06:54 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 19:06:54 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 19:06:54 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 19:06:54 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 19:06:54 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 19:06:54 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 19:06:54 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONJ" accepted.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONJ" started.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONK" accepted.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONK" started.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2HO1RONK" received FIN.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2HO1RONJ" received FIN.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONJ" stopped.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONK" stopped.
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2HO1RONJ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:06:54 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2HO1RONK" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:06:58 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONL" accepted.
 
[2023-04-09 19:06:58 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2HO1RONL" started.
 
[2023-04-09 19:06:58 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP2HO1RONL established using the following protocol: "Tls12"
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 19:06:59 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 19:06:59 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 19:06:59 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 17.2739ms
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 316.6874ms
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.2319ms
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 19:06:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.8439ms
 
[2023-04-09 19:07:58 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - -
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)' with route pattern 'api/Readers/{id}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)'
 
[2023-04-09 19:07:58 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)'
 
[2023-04-09 19:07:58 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReader(System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:07:58 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:07:58 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Reader>()
    .Include(x => x.Books)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 19:07:58 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Reader.Books'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reader>(
    asyncEnumerable: new SplitQueryingEnumerable<Reader>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Reader.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reader.BirthDate (DateTime?), 1], [Property: Reader.DeleteTime (DateTime?), 2], [Property: Reader.FIO (string) Required, 3] }
                1 -> 0
            SELECT TOP(1) r.Id, r.BirthDate, r.DeleteTime, r.FIO
            FROM Readers AS r
            WHERE (r.DeleteTime == NULL) && (r.Id == @__id_0)
            ORDER BY r.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Reader>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        True, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:07:59 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (27ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:07:59 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 188ms reading results.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 63ms reading results.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:07:59 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:07:59 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:07:59 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI) in 1195.3557ms
 
[2023-04-09 19:07:59 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)'
 
[2023-04-09 19:07:59 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - - - 200 - application/json;+charset=utf-8 1325.4130ms
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589 - -
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)' with route pattern 'api/Readers/{id}/return/{bookId}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ReturnBookToLibrary", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBookToLibrary(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Reader>()
    .Include(x => x.Books)
    .AsSplitQuery()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Reader.Books'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reader>(
    asyncEnumerable: new SplitQueryingEnumerable<Reader>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Reader.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reader.BirthDate (DateTime?), 1], [Property: Reader.DeleteTime (DateTime?), 2], [Property: Reader.FIO (string) Required, 3] }
                1 -> 0
            SELECT TOP(1) r.Id, r.BirthDate, r.DeleteTime, r.FIO
            FROM Readers AS r
            WHERE (r.DeleteTime == NULL) && (r.Id == @__id_0)
            ORDER BY r.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Reader>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:08:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:08:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 34ms reading results.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Readers)
    .AsSplitQuery()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE (b.DeleteTime == NULL) && (b.Id == @__id_0)
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:08:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:08:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 21ms reading results.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 0 entities were added and 1 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
 
[2023-04-09 19:08:53 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:08:53 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI) in 486.1907ms
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:08:53 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589 - - - 200 - application/json;+charset=utf-8 553.2595ms
 
[2023-04-09 19:09:09 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589 - -
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)' with route pattern 'api/Readers/{id}/return/{bookId}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:09:09 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:09:09 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "ReturnBookToLibrary", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ReturnBookToLibrary(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:09:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:09:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 20ms reading results.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (9ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:09:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:09:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:09:09 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:09:10 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:09:10 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
 
[2023-04-09 19:09:10 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'.
 
[2023-04-09 19:09:10 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI) in 173.8903ms
 
[2023-04-09 19:09:10 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.ReturnBookToLibrary (LibraryAPI)'
 
[2023-04-09 19:09:10 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/return/608ad80c-3680-44ff-87d4-0576a5c7b589 - - - 400 - text/plain;+charset=utf-8 211.1753ms
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/608ad80c-3680-44ff-87d4-0576a5c7b589 - 0
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)' with route pattern 'api/Readers/{id}/give/{bookId}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/608ad80c-3680-44ff-87d4-0576a5c7b589'
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBookToReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBookToReader(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:09:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (9ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:09:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 34ms reading results.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 13ms reading results.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:09:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:09:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='608ad80c-3680-44ff-87d4-0576a5c7b589'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 1 entities were added and 0 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:09:27 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (9ms).
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:09:27 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI) in 333.5088ms
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:09:27 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/608ad80c-3680-44ff-87d4-0576a5c7b589 - 0 - 200 - application/json;+charset=utf-8 401.0103ms
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - -
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)' with route pattern 'api/Readers/{id}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteReader(System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:10:32 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:10:32 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:10:32 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 22ms reading results.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Reader.DeleteTime' was detected as changed from 'null' to '"2023-04-09T19:10:32.4412081+03:00"' and will be marked as modified for entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 0 entities were added and 1 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Update: Executing 2 update commands as a batch.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Beginning transaction with isolation level 'Unspecified'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Began transaction with isolation level 'ReadCommitted'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p3='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p2='2023-04-09T19:10:32.4412081+03:00' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
UPDATE "Readers" SET "DeleteTime" = @p2
WHERE "Id" = @p3;
 
[2023-04-09 19:10:32 ERR] .. Microsoft.EntityFrameworkCore.Database.Command: Failed executing DbCommand (7ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p3='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p2='2023-04-09T19:10:32.4412081+03:00' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
UPDATE "Readers" SET "DeleteTime" = @p2
WHERE "Id" = @p3;
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Disposing transaction.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:10:32 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 19:10:32 ERR] .. Microsoft.EntityFrameworkCore.Update: An exception occurred in the database while saving changes for context type 'LibraryAPI.Data.Contexts.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI) in 366.2976ms
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:10:32 ERR] .. Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware: An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> System.InvalidCastException: Cannot write DateTime with Kind=Local to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array/range. See the Npgsql.EnableLegacyTimestampBehavior AppContext switch to enable legacy behavior.
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateAndGetLength(DateTime value, NpgsqlParameter parameter)
   at Npgsql.Internal.TypeHandlers.DateTimeHandlers.TimestampTzHandler.ValidateObjectAndGetLength(Object value, NpgsqlLengthCache& lengthCache, NpgsqlParameter parameter)
   at Npgsql.NpgsqlParameter.ValidateAndGetLength()
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(TypeMapper typeMapper, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LibraryAPI.Controllers.ReadersController.DeleteReader(Guid id) in C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\Controllers\ReadersController.cs:line 153
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
 
[2023-04-09 19:10:32 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - - - 500 - text/plain;+charset=utf-8 488.1326ms
 
[2023-04-09 19:14:46 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 19:14:46 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 19:14:47 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (66ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (13ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:14:47 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (0ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:14:47 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:14:47 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:14:47 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 19:14:47 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 19:14:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 19:14:48 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 19:14:48 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 19:14:48 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNJ" accepted.
 
[2023-04-09 19:14:48 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNJ" started.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2M557NNK" received FIN.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2M557NNJ" received FIN.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNK" accepted.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNK" started.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNK" stopped.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNJ" stopped.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2M557NNK" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP2M557NNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNL" accepted.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP2M557NNL" started.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP2M557NNL established using the following protocol: "Tls12"
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 19:14:48 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 11.0023ms
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 328.3804ms
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.0233ms
 
[2023-04-09 19:14:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 19:14:49 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 192.7845ms
 
[2023-04-09 19:15:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - -
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: DELETE requests are not supported
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)' with route pattern 'api/Readers/{id}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:15:07 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:15:07 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "DeleteReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteReader(System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:15:07 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Reader>()
    .Include(x => x.Books)
    .AsSplitQuery()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Reader.Books'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Reader>(
    asyncEnumerable: new SplitQueryingEnumerable<Reader>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Reader.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Reader.BirthDate (DateTime?), 1], [Property: Reader.DeleteTime (DateTime?), 2], [Property: Reader.FIO (string) Required, 3] }
                1 -> 0
            SELECT TOP(1) r.Id, r.BirthDate, r.DeleteTime, r.FIO
            FROM Readers AS r
            WHERE (r.DeleteTime == NULL) && (r.Id == @__id_0)
            ORDER BY r.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<DateTime>, ReaderColumn<DateTime>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Reader>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:15:08 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (25ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (6ms).
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:15:08 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 199ms reading results.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 70ms reading results.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The unchanged property 'Reader.DeleteTime' was detected as changed from 'null' to '"2023-04-09T16:15:08.8860098Z"' and will be marked as modified for entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 0 entities were added and 1 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'.
 
[2023-04-09 19:15:08 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Update: Executing 2 update commands as a batch.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Beginning transaction with isolation level 'Unspecified'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Began transaction with isolation level 'ReadCommitted'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p3='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p2='2023-04-09T16:15:08.8860098Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
UPDATE "Readers" SET "DeleteTime" = @p2
WHERE "Id" = @p3;
 
[2023-04-09 19:15:09 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (11ms) [Parameters=[@p0='608ad80c-3680-44ff-87d4-0576a5c7b589', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p3='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8', @p2='2023-04-09T16:15:08.8860098Z' (Nullable = true) (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BookReader"
WHERE "BooksId" = @p0 AND "ReadersId" = @p1;
UPDATE "Readers" SET "DeleteTime" = @p2
WHERE "Id" = @p3;
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 7ms reading results.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Committing transaction.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Committed transaction.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Database.Transaction: Disposing transaction.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: 608ad80c-3680-44ff-87d4-0576a5c7b589, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'.
 
[2023-04-09 19:15:09 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
 
[2023-04-09 19:15:09 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 19:15:09 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI) in 1371.0256ms
 
[2023-04-09 19:15:09 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.DeleteReader (LibraryAPI)'
 
[2023-04-09 19:15:09 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 DELETE https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8 - - - 204 - - 1496.1876ms
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/givenOutBooks - -
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)' with route pattern 'api/Books/givenOutBooks' is valid for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/givenOutBooks'
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetGivenOutBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGivenOutBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:15:36 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Readers
        .Any())'
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            1 -> 0
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && EXISTS (
            SELECT 1
            FROM BookReader AS b0
            INNER JOIN Readers AS r ON b0.ReadersId == r.Id
            WHERE (b.Id != NULL) && (b.Id == b0.BooksId))
        ORDER BY b.Id ASC), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
    null, 
    Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 19:15:36 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND EXISTS (
    SELECT 1
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId")
ORDER BY b."Id"
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:36 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Mvc.StatusCodeResult: Executing StatusCodeResult, setting HTTP status code 204
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI) in 122.3327ms
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetGivenOutBooks (LibraryAPI)'
 
[2023-04-09 19:15:36 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/givenOutBooks - - - 204 - - 191.3133ms
 
[2023-04-09 19:15:42 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/availableBooks - -
 
[2023-04-09 19:15:42 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 19:15:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:15:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)' with route pattern 'api/Books/availableBooks' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:15:42 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:15:42 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:15:42 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:15:42 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(x => x.Readers)
    .AsSplitQuery()
    .AsNoTrackingWithIdentityResolution()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .Where(b => b.Readers.Count < b.ExemplarCount)'
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => new SplitQueryingEnumerable<Book>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
            1 -> 0
        SELECT b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
        FROM Books AS b
        WHERE (b.DeleteTime == NULL) && ((
            SELECT CAST(count(*) AS integer)
            FROM BookReader AS b0
            INNER JOIN Readers AS r ON b0.ReadersId == r.Id
            WHERE (b.Id != NULL) && (b.Id == b0.BooksId)) < b.ExemplarCount)
        ORDER BY b.Id ASC), 
    ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
    Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
    null, 
    Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
    LibraryAPI.Data.Contexts.ApplicationDbContext, 
    True, 
    True, 
    True
)'
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (7ms).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:15:43 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:15:43 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 54ms reading results.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:15:43 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:15:43 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 19:15:43 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI) in 351.0765ms
 
[2023-04-09 19:15:43 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:15:43 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/availableBooks - - - 200 - application/json;+charset=utf-8 419.6550ms
 
[2023-04-09 19:16:17 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)' with route pattern 'api/Readers/{id}/give/{bookId}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:17 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:17 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBookToReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBookToReader(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:16:17 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:16:17 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (5ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:16:17 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 21ms reading results.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Query: Compiling query expression: 
'DbSet<Book>()
    .Include(b => b.Readers)
    .AsSplitQuery()
    .Where(x => ((IHasDeleteTime)x).DeleteTime == null)
    .FirstOrDefault(x => x.Id.Equals(__id_0))'
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Query: Including navigation: 'Book.Readers'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Query: Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Book>(
    asyncEnumerable: new SplitQueryingEnumerable<Book>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Book.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Book.Article (string) Required, 1], [Property: Book.Author (string) Required, 2], [Property: Book.DeleteTime (DateTime?), 3], [Property: Book.ExemplarCount (int) Required, 4], [Property: Book.Name (string) Required, 5], [Property: Book.PublicationYear (string) Required, 6] }
                1 -> 0
            SELECT TOP(1) b.Id, b.Article, b.Author, b.DeleteTime, b.ExemplarCount, b.Name, b.PublicationYear
            FROM Books AS b
            WHERE (b.DeleteTime == NULL) && (b.Id == @__id_0)
            ORDER BY b.Id ASC), 
        ReaderColumn[] { ReaderColumn<Guid>, ReaderColumn<object>, ReaderColumn<object>, ReaderColumn<DateTime>, ReaderColumn<int>, ReaderColumn<object>, ReaderColumn<object> }, 
        Func<QueryContext, DbDataReader, ResultContext, SplitQueryResultCoordinator, Book>, 
        null, 
        Func<QueryContext, IExecutionStrategy, SplitQueryResultCoordinator, Task>, 
        LibraryAPI.Data.Contexts.ApplicationDbContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:16:17 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:16:17 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 15ms reading results.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:17 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (6ms).
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 1 entities were added and 0 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:16:18 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (15ms) [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:16:18 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:16:18 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:16:18 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI) in 304.2448ms
 
[2023-04-09 19:16:18 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:18 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0 - 200 - application/json;+charset=utf-8 365.3990ms
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)' with route pattern 'api/Readers/{id}/give/{bookId}' is valid for the request path '/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBookToReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBookToReader(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:16:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:16:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (10ms) [Parameters=[@__id_0='e5bfe898-9dd3-41f2-a048-c6c05d2c88c8'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 36ms reading results.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 24ms reading results.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:16:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (9ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (10ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:16:48 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 27ms reading results.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 16ms reading results.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:16:48 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing BadRequestObjectResult, writing value of type 'System.String'.
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI) in 217.2826ms
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:16:48 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Readers/e5bfe898-9dd3-41f2-a048-c6c05d2c88c8/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0 - 400 - text/plain;+charset=utf-8 278.3764ms
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Readers application/json 96
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers'
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.CreateReader (LibraryAPI)' with route pattern 'api/Readers' is valid for the request path '/api/Readers'
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.CreateReader (LibraryAPI)'
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.CreateReader (LibraryAPI)'
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "CreateReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReader(LibraryAPI.Data.DTO.NewReader) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader' ...
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Attempting to bind parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader' using the name '' in request data ...
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP2M557NNL", Request id "0HMPP2M557NNL:00000013": started reading request body.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Server.Kestrel: Connection id "0HMPP2M557NNL", Request id "0HMPP2M557NNL:00000013": done reading request body.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter: JSON input formatter succeeded, deserializing to type 'LibraryAPI.Data.DTO.NewReader'
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder: Done attempting to bind parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader' ...
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'newReader' of type 'LibraryAPI.Data.DTO.NewReader'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: 08b020a1-0539-41e6-bffb-3213fca79e78}'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (8ms).
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='08b020a1-0539-41e6-bffb-3213fca79e78', @p1='2002-04-09T16:17:29.5700000Z' (Nullable = true) (DbType = DateTime), @p2=NULL (DbType = DateTime), @p3='Иван Иванов Иванович' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Readers" ("Id", "BirthDate", "DeleteTime", "FIO")
VALUES (@p0, @p1, @p2, @p3);
 
[2023-04-09 19:17:57 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (12ms) [Parameters=[@p0='08b020a1-0539-41e6-bffb-3213fca79e78', @p1='2002-04-09T16:17:29.5700000Z' (Nullable = true) (DbType = DateTime), @p2=NULL (DbType = DateTime), @p3='Иван Иванов Иванович' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Readers" ("Id", "BirthDate", "DeleteTime", "FIO")
VALUES (@p0, @p1, @p2, @p3);
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'Reader' entity with key '{Id: 08b020a1-0539-41e6-bffb-3213fca79e78}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing CreatedAtActionResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Found the endpoints ["LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Successfully processed template api/Readers/{id} for LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI) resulting in /api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78 and 
 
[2023-04-09 19:17:57 DBG] .. Microsoft.AspNetCore.Routing.DefaultLinkGenerator: Link generation succeeded for endpoints ["LibraryAPI.Controllers.ReadersController.GetReader (LibraryAPI)"] with result /api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.CreateReader (LibraryAPI) in 199.8013ms
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.CreateReader (LibraryAPI)'
 
[2023-04-09 19:17:57 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Readers application/json 96 - 201 - application/json;+charset=utf-8 251.2999ms
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/availableBooks - -
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)' with route pattern 'api/Books/availableBooks' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:21 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:21 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 33ms reading results.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 16ms reading results.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:18:21 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI) in 107.8412ms
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:21 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/availableBooks - - - 200 - application/json;+charset=utf-8 161.8091ms
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:7190/api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: POST requests are not supported
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)' with route pattern 'api/Readers/{id}/give/{bookId}' is valid for the request path '/api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78/give/cf6b7705-af16-419b-a431-d13bf6feda19'
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GiveBookToReader", controller = "Readers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GiveBookToReader(System.Guid, System.Guid) on controller LibraryAPI.Controllers.ReadersController (LibraryAPI).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.ReadersController (LibraryAPI)
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Attempting to bind parameter 'bookId' of type 'System.Guid' using the name 'bookId' in request data ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to bind parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Attempting to validate the bound parameter 'bookId' of type 'System.Guid' ...
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Done attempting to validate the bound parameter 'bookId' of type 'System.Guid'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:18:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (6ms) [Parameters=[@__id_0='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."BirthDate", r."DeleteTime", r."FIO"
FROM "Readers" AS r
WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
ORDER BY r."Id"
LIMIT 1
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: 08b020a1-0539-41e6-bffb-3213fca79e78}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:18:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__id_0='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."Article", t0."Author", t0."DeleteTime", t0."ExemplarCount", t0."Name", t0."PublicationYear", t."Id"
FROM (
    SELECT r."Id"
    FROM "Readers" AS r
    WHERE (r."DeleteTime" IS NULL) AND r."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b."BooksId", b."ReadersId", b0."Id", b0."Article", b0."Author", b0."DeleteTime", b0."ExemplarCount", b0."Name", b0."PublicationYear"
    FROM "BookReader" AS b
    INNER JOIN "Books" AS b0 ON b."BooksId" = b0."Id"
) AS t0 ON t."Id" = t0."ReadersId"
ORDER BY t."Id"
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 37ms reading results.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (5ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:18:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (4ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
ORDER BY b."Id"
LIMIT 1
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: cf6b7705-af16-419b-a431-d13bf6feda19}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (0ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:18:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@__id_0='cf6b7705-af16-419b-a431-d13bf6feda19'], CommandType='"Text"', CommandTimeout='30']
SELECT t0."BooksId", t0."ReadersId", t0."Id", t0."BirthDate", t0."DeleteTime", t0."FIO", t."Id"
FROM (
    SELECT b."Id"
    FROM "Books" AS b
    WHERE (b."DeleteTime" IS NULL) AND b."Id" = @__id_0
    LIMIT 1
) AS t
INNER JOIN (
    SELECT b0."BooksId", b0."ReadersId", r."Id", r."BirthDate", r."DeleteTime", r."FIO"
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
) AS t0 ON t."Id" = t0."BooksId"
ORDER BY t."Id"
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Reader' entity with key '{Id: e5bfe898-9dd3-41f2-a048-c6c05d2c88c8}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 28ms reading results.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges starting for 'ApplicationDbContext'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: 1 entities were added and 0 entities were removed from skip navigation 'Reader.Books' on entity with key '{Id: 08b020a1-0539-41e6-bffb-3213fca79e78}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: 08b020a1-0539-41e6-bffb-3213fca79e78}'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: DetectChanges completed for 'ApplicationDbContext'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:18:28 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[@p0='cf6b7705-af16-419b-a431-d13bf6feda19', @p1='08b020a1-0539-41e6-bffb-3213fca79e78'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BookReader" ("BooksId", "ReadersId")
VALUES (@p0, @p1);
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: The 'BookReader' entity with key '{BooksId: cf6b7705-af16-419b-a431-d13bf6feda19, ReadersId: 08b020a1-0539-41e6-bffb-3213fca79e78}' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.EntityFrameworkCore.Update: SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:18:28 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'LibraryAPI.Data.DTO.Reader'.
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI) in 266.2765ms
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.ReadersController.GiveBookToReader (LibraryAPI)'
 
[2023-04-09 19:18:28 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:7190/api/Readers/08b020a1-0539-41e6-bffb-3213fca79e78/give/cf6b7705-af16-419b-a431-d13bf6feda19 - 0 - 200 - application/json;+charset=utf-8 313.7969ms
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/Books/availableBooks - -
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: The request path  does not match the path filter
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)' with route pattern 'api/Books/availableBooks' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'LibraryAPI.Controllers.BooksController.GetBook (LibraryAPI)' with route pattern 'api/Books/{id}' is valid for the request path '/api/Books/availableBooks'
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Route matched with {action = "GetAvailableBooks", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableBooks() on controller LibraryAPI.Controllers.BooksController (LibraryAPI).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of authorization filters (in the following order): ["None"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of resource filters (in the following order): ["None"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of exception filters (in the following order): ["None"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executing controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed controller factory for controller LibraryAPI.Controllers.BooksController (LibraryAPI)
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:35 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Article", b."Author", b."DeleteTime", b."ExemplarCount", b."Name", b."PublicationYear"
FROM "Books" AS b
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.ChangeTracking: Context 'ApplicationDbContext' started tracking 'Book' entity with key '{Id: 608ad80c-3680-44ff-87d4-0576a5c7b589}'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (4ms).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:35 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."BooksId", t."ReadersId", t."Id", t."BirthDate", t."DeleteTime", t."FIO", b."Id"
FROM "Books" AS b
INNER JOIN (
    SELECT b1."BooksId", b1."ReadersId", r0."Id", r0."BirthDate", r0."DeleteTime", r0."FIO"
    FROM "BookReader" AS b1
    INNER JOIN "Readers" AS r0 ON b1."ReadersId" = r0."Id"
) AS t ON b."Id" = t."BooksId"
WHERE (b."DeleteTime" IS NULL) AND (
    SELECT count(*)::int
    FROM "BookReader" AS b0
    INNER JOIN "Readers" AS r ON b0."ReadersId" = r."Id"
    WHERE b."Id" = b0."BooksId") < b."ExemplarCount"
ORDER BY b."Id"
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 25ms reading results.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter based on Accept header '["text/plain"]'.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Attempting to select the first formatter in the output formatters list which can write the result.
 
[2023-04-09 19:18:35 DBG] .. Microsoft.AspNetCore.Mvc.Infrastructure.DefaultOutputFormatterSelector: Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor: Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LibraryAPI.Data.DTO.Book, LibraryAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Executed action LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI) in 82.2421ms
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'LibraryAPI.Controllers.BooksController.GetAvailableBooks (LibraryAPI)'
 
[2023-04-09 19:18:35 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/Books/availableBooks - - - 200 - application/json;+charset=utf-8 122.9953ms
 
[2023-04-09 20:12:04 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 20:12:05 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (64ms).
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:12:05 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (11ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (12ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:12:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (3ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (1ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (2ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:12:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (2ms).
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 20:12:06 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 20:12:06 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 20:12:06 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 20:12:06 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 20:12:06 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 20:12:06 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 20:12:06 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 20:12:06 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD3" accepted.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD4" accepted.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD3" started.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD4" started.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3M5VBBD4" received FIN.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3M5VBBD3" received FIN.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD3" stopped.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD4" stopped.
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3M5VBBD3" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 20:12:06 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3M5VBBD4" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD5" accepted.
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3M5VBBD5" started.
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP3M5VBBD5 established using the following protocol: "Tls12"
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 20:12:07 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 10.9801ms
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 321.6796ms
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.6619ms
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 20:12:07 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 220.0199ms
 
[2023-04-09 20:18:22 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: An 'IServiceProvider' was created for internal use by Entity Framework.
 
[2023-04-09 20:18:23 DBG] .. Microsoft.EntityFrameworkCore.Model: The index {'BooksId'} was not created on entity type 'BookReader (Dictionary<string, object>)' as the properties are already covered by the index {'BooksId', 'ReadersId'}.
 
[2023-04-09 20:18:23 WRN] .. Microsoft.EntityFrameworkCore.Model.Validation: Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
 
[2023-04-09 20:18:23 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).BooksId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 20:18:23 DBG] .. Microsoft.EntityFrameworkCore.Model.Validation: The property 'BookReader (Dictionary<string, object>).ReadersId' was created in shadow state because there are no eligible CLR members with a matching name.
 
[2023-04-09 20:18:23 DBG] .. Microsoft.EntityFrameworkCore.Infrastructure: Entity Framework Core 7.0.3 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:7.0.3+fb48afb5038d8370cce4298b33a3ed51888890e7' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled MaxPoolSize=1024 
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Creating DbConnection.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Created DbConnection. (262ms).
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Migrations: Migrating using database 'postgres' on server ''.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.AspNetCore.Mvc.ModelBinding.ModelBinderFactory: Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (16ms).
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (5ms).
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (13ms).
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:18:24 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (124ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (4ms).
 
[2023-04-09 20:18:24 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (2ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteScalar'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteScalar' (4ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteScalar' (10ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:18:25 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (9ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Creating DbCommand for 'ExecuteReader'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Created DbCommand for 'ExecuteReader' (1ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Initialized DbCommand for 'ExecuteReader' (3ms).
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opening connection to database 'postgres' on server ''.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 20:18:25 INF] .. Microsoft.EntityFrameworkCore.Database.Command: Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: Closing data reader to 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Command: A data reader for 'postgres' on server 'tcp://localhost:5432' is being disposed after spending 17ms reading results.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.EntityFrameworkCore.Database.Connection: Closed connection to database 'postgres' on server '' (1ms).
 
[2023-04-09 20:18:25 INF] .. Microsoft.EntityFrameworkCore.Migrations: No migrations were applied. The database is already up to date.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer: Using development certificate: CN=localhost (Thumbprint: 10E518C6C4694EC6DC3BDAE94C5454C67D6A87F7)
 
[2023-04-09 20:18:25 INF] .. Microsoft.Hosting.Lifetime: Now listening on: https://localhost:7190
 
[2023-04-09 20:18:25 INF] .. Microsoft.Hosting.Lifetime: Now listening on: http://localhost:5190
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly LibraryAPI
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
 
[2023-04-09 20:18:25 INF] .. Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
 
[2023-04-09 20:18:25 INF] .. Microsoft.Hosting.Lifetime: Hosting environment: Development
 
[2023-04-09 20:18:25 INF] .. Microsoft.Hosting.Lifetime: Content root path: C:\Users\Григорий\.ssh\LibraryAPI\LibraryAPI\
 
[2023-04-09 20:18:25 DBG] .. Microsoft.Extensions.Hosting.Internal.Host: Hosting started
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUG9" accepted.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUG9" started.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUGA" accepted.
 
[2023-04-09 20:18:25 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUGA" started.
 
[2023-04-09 20:18:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUGB" accepted.
 
[2023-04-09 20:18:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUGB" started.
 
[2023-04-09 20:18:29 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HMPP3PMQFUGB established using the following protocol: "Tls12"
 
[2023-04-09 20:18:29 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/index.html - -
 
[2023-04-09 20:18:29 DBG] .. Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
 
[2023-04-09 20:18:29 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup is scheduled to include browser refresh script injection.
 
[2023-04-09 20:18:30 DBG] .. Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware: Response markup was updated to include browser refresh script injection.
 
[2023-04-09 20:18:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - -
 
[2023-04-09 20:18:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/_vs/browserLink - -
 
[2023-04-09 20:18:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/index.html - - - 200 - text/html;charset=utf-8 1315.5151ms
 
[2023-04-09 20:18:30 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 39.2987ms
 
[2023-04-09 20:18:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 333.8657ms
 
[2023-04-09 20:18:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - -
 
[2023-04-09 20:18:31 INF] .. Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:7190/api/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 413.0404ms
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Authentication of the HTTPS connection timed out.
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUG9" stopped.
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3PMQFUG9" sending FIN because: "The Socket transport's send loop completed gracefully."
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Authentication of the HTTPS connection timed out.
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HMPP3PMQFUGA" stopped.
 
[2023-04-09 20:18:35 DBG] .. Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HMPP3PMQFUGA" sending FIN because: "The Socket transport's send loop completed gracefully."
 
